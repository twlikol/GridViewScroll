/*
 * GridViewScroll with jQuery v0.9.6.8
 * http://gridviewscroll.aspcity.idv.tw/

 * Copyright (c) 2012 Likol Lee
 * Released under the MIT license

 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(a){jQuery.fn.extend({gridviewScroll:function(ai){var Z={width:500,height:300,railcolor:"#F0F0F0",barcolor:"#CDCDCD",barhovercolor:"#606060",bgcolor:"#F0F0F0",freezesize:0,arrowsize:0,headerrowcount:1,railsize:15,barsize:15,wheelstep:20,minscrollbarsize:10,startVertical:0,startHorizontal:0,onScrollVertical:null,onScrollHorizontal:null,enabled:true,scrollAssociate:null,verticalbar:"auto",horizontalbar:"auto",wrapperAutoHeight:true,rowIndexElementID:""};var aC=a.extend(Z,ai);function S(aQ,i){K(aQ,i);y(aQ,i);al(aQ,i)}function K(aQ,i){aQ.find("input").each(function(){var aV=a(this)[0].type;if(aV=="checkbox"||aV=="radio"||aV=="text"){var aT=a(this);var aR=aT[0].id.replace("_Copy","");var aU=aT[0].name.replace("_Copy","");aT[0].name=aU+"_"+i;aT[0].id=aR+"_"+i;var aS=a("#"+aR);switch(aV){case"checkbox":case"radio":aT.off("change");aT.change(function(){var aW=a(this).is(":checked");aS.attr("checked",aW)});break;case"text":aT.change(function(){var aW=a(this).val();aS.val(aW)});break}}})}function y(aQ,i){aQ.find("select").each(function(){var aU=a(this);var aS=aU[0].id.replace("_Copy","");var aT=aU[0].name.replace("_Copy","");aU[0].name=aT+"_"+i;aU[0].id=aS+"_"+i;var aR=a("#"+aS);aU.off("change");aU.prop("selectedIndex",aR[0].selectedIndex);aU.change(function(){var aV=this.selectedIndex;aR.prop("selectedIndex",aV)})})}function al(aQ,i){aQ.find("textarea").each(function(){var aT=a(this);var aS=aT[0].id.replace("_Copy","");var aU=aT[0].name.replace("_Copy","");aT[0].name=aU+"_"+i;aT[0].id=aS+"_"+i;var aR=a("#"+aS);aT.off("change");aT.change(function(){var aV=a(this).val();aR.val(aV)})})}function F(){var a5=N.attr("id")+"Freeze";h();if(!document.getElementById(a5)){x=a(N[0].cloneNode(false));x.attr("id",a5);x.css({position:"absolute",width:"",height:"100%",top:0,left:0,zIndex:n});var aT=a(av[0].cloneNode(false));var aX=aT.attr("id")+"Freeze";aT.attr("id",aX);aT.css({width:"",height:"100%"});x[0].appendChild(aT[0]);ag[0].appendChild(x[0])}else{x=a("#"+a5)}var aT=x.children().eq(0);while(aT[0].hasChildNodes()){aT[0].removeChild(aT[0].lastChild)}var aZ=document.createElement("TBODY");aT[0].appendChild(aZ);var aR=av.children().eq(0);var aQ=aH[0].length;for(var a6=0;a6<aC.headerrowcount;a6++){var aU=aR[0].rows[a6].cloneNode(false);for(var a4=0;a4<aQ;a4++){var a0=aH[a6][a4];if(a0=="RS"||a0=="CS"){continue}var aS=parseInt(a0.split(":")[1]);if(a4<f){var aV=aR[0].rows[a6].cells[aS].cloneNode(true);aU.appendChild(aV)}}S(a(aU),"freezeheader");aT[0].childNodes[0].appendChild(aU)}x[0].style.display="";var a2=M.attr("id")+"Freeze";if(!document.getElementById(a2)){ax=a(M[0].cloneNode(false));ax.attr("id",a2);ax.css({position:"absolute",width:"",top:0,left:0,zIndex:n,display:"none"});var a8=a(ab[0].cloneNode(false));var a3=a8.attr("id")+"Freeze";a8.attr("id",a3);a8[0].style.width="";ax[0].appendChild(a8[0]);aq[0].appendChild(ax[0])}else{ax=a("#"+a2);ax[0].style.height=M[0].style.height;ax.scrollTop(0)}var a8=ax.children().eq(0);while(a8[0].hasChildNodes()){a8[0].removeChild(a8[0].lastChild)}var ba=document.createElement("TBODY");a8[0].appendChild(ba);var aW=P[0].rows.length;var a9=f;var aY=a9;var a7=new Array();for(var a6=0;a6<aW;a6++){var aU=P[0].rows[a6].cloneNode(false);if(a6<aC.headerrowcount){aU.style.display="none"}else{for(var a4=0;a4<aQ;a4++){var a1=P[0].rows[a6].cells[a4];if(a4<a9){var bb=a1.rowSpan;if(!bb){bb=1}else{bb=parseInt(bb)}if(bb!=1){aY--;a7[a4]=bb}var aV=a1.cloneNode(true);aU.appendChild(aV)}}for(var a4=0;a4<aQ;a4++){if(a7[a4]){if(a7[a4]>0){a7[a4]--;if(a7[a4]==0){aY++}}}}a9=aY;S(a(aU),"freezeitem")}a8[0].childNodes[0].appendChild(aU)}ax[0].style.display=""}function h(){var aS=0;f=0;for(var aQ=0;aQ<aH[0].length;aQ++){var aR=aH[0][aQ];if(aR=="RS"||aR=="CS"){f++;continue}if(aC.freezesize==aS){return f}aS++;f++}}function d(){c=new Array();var aW=P.children().length;for(var aS=aC.headerrowcount;aS<aW;aS++){var aV=P[0].rows[aS];var aQ=aV.cells[0];aQ.style.height="";var aT=aQ.childNodes[0];if(!aT||aT.className!="GridCellDiv"){aT=at(aQ)}}var aU=1;for(var aS=aC.headerrowcount;aS<aW;aS++){var aV=P[0].rows[aS];var aQ=aV.cells[0];var aT=aQ.childNodes[0];var aR=0;if(aU==1){var aX=aQ.rowSpan;if(!aX){aX=1}else{aX=parseInt(aX)}aU=aX;aR=v(aV)}else{aU--}aR=v(aV);c[aS]=aR}for(var aS=aC.headerrowcount;aS<aW;aS++){var aV=P[0].rows[aS];var aQ=aV.cells[0];var aT=aQ.childNodes[0];if(c[aS]!=0){aQ.style.height=c[aS]+"px"}}}function v(aT){var aS=0;var i=aT.cells[0];var aV=a(i);var aR=parseInt(aV.css("padding-top"));var aU=parseInt(aV.css("padding-bottom"));aS=i.offsetHeight-aR-aU;var aQ=aS+0;return aQ}var V=null;function aw(){var i=ab.attr("id")+"VerticalRail";if(!document.getElementById(i)){E=a(ao).css({background:aC.railcolor,width:aC.railsize+"px",position:"absolute",zIndex:ae});E.attr("id",i);aq.append(E);var aT={right:0};E.css(aT);E.mousedown(function(a1){clearInterval(V);var a2=a(this).offset();var a0=a1.clientY-a2.top+a(document).scrollTop();var a3=W.offset().top-a2.top;var aZ=W.height()+a3;if(a0<a3){aF(-1,false,true)}if(a0>aZ){aF(1,false,true)}V=window.setInterval(function(){var a5=a1.clientY-a2.top+a(document).scrollTop();var a6=W.offset().top-a2.top;var a4=W.height()+a6;if(a5<a6){aF(-1,false,true)}if(a5>a4){aF(1,false,true)}},200)});E.mouseup(function(){clearInterval(V)});E.mouseout(function(){clearInterval(V)})}else{E=a("#"+i)}var aY=ab.attr("id")+"VerticalBar";if(!document.getElementById(aY)){W=a(ao).css({background:aC.barcolor,width:aC.barsize+"px",position:"absolute",zIndex:ae});W.attr("id",aY);var aV={right:(aC.railsize-aC.barsize)/2};W.css(aV);aq.append(W);W.draggable({axis:"y",containment:E,start:function(){a(this).css({backgroundColor:aC.barhovercolor})},stop:function(){a(this).css({backgroundColor:aC.barcolor})},drag:function(){aF(0,false)}})}else{W=a("#"+aY)}var aQ=ab.attr("id")+"Vertical_TIMG";if(!document.getElementById(aQ)){u=a(aK).css({height:aC.arrowsize,position:"absolute",zIndex:ae,top:0});u.attr("id",aQ).addClass("arrowvt");aq.append(u);var aT={right:0};u.css(aT);u.mousedown(function(){clearInterval(V);aF(-1,false,true);V=window.setInterval(function(){aF(-1,false,true)},200)});u.mouseup(function(){clearInterval(V)});u.mouseout(function(){clearInterval(V)})}else{u=a("#"+aQ)}var aR=ab.attr("id")+"Vertical_BIMG";if(!document.getElementById(aR)){C=a(aK).css({height:aC.arrowsize,position:"absolute",zIndex:ae});C.attr("id",aR).addClass("arrowvb");aq.append(C);var aT={right:0};C.css(aT);C.mousedown(function(){clearInterval(V);aF(1,false,true);V=window.setInterval(function(){aF(1,false,true)},200)});C.mouseup(function(){clearInterval(V)});C.mouseout(function(){clearInterval(V)})}else{C=a("#"+aR)}var aU=ab.attr("id")+"HorizontalRail";if(!document.getElementById(aU)){X=a(ao).css({background:aC.railcolor,height:aC.railsize+"px",position:"absolute",zIndex:ae});X.attr("id",aU);aq.append(X);X.mousedown(function(a1){clearInterval(V);var a3=a(this).offset();var a2=a1.clientX-a3.left+a(document).scrollLeft();var aZ=aA.offset().left-a3.left;var a0=aA.width()+aZ;if(a2<aZ){H(-1,true)}if(a2>a0){H(1,true)}V=window.setInterval(function(){var a6=a1.clientX-a3.left+a(document).scrollLeft();var a4=aA.offset().left-a3.left;var a5=aA.width()+a4;if(a6<a4){H(-1,true)}if(a6>a5){H(1,true)}},200)});X.mouseup(function(){clearInterval(V)});X.mouseout(function(){clearInterval(V)})}else{X=a("#"+aU)}var aX=ab.attr("id")+"HorizontalBar";if(!document.getElementById(aX)){aA=a(ao).css({background:aC.barcolor,height:aC.barsize+"px",position:"absolute",zIndex:ae});aA.attr("id",aX);aq.append(aA);aA.draggable({axis:"x",containment:X,start:function(){a(this).css({backgroundColor:aC.barhovercolor})},stop:function(){a(this).css({backgroundColor:aC.barcolor})},drag:function(){H()}})}else{aA=a("#"+aX)}var aS=ab.attr("id")+"Horizontal_LIMG";if(!document.getElementById(aS)){Q=a(aK).css({width:aC.arrowsize,position:"absolute",zIndex:ae,top:0});Q.attr("id",aS).addClass("arrowhl");aq.append(Q);Q.mousedown(function(){clearInterval(V);H(-1,true);V=window.setInterval(function(){H(-1,true)},200)});Q.mouseup(function(){clearInterval(V)});Q.mouseout(function(){clearInterval(V)})}else{Q=a("#"+aS)}var aW=ab.attr("id")+"Horizontal_RIMG";if(!document.getElementById(aW)){O=a(aK).css({width:aC.arrowsize,position:"absolute",zIndex:ae});O.attr("id",aW).addClass("arrowhr");aq.append(O);O.mousedown(function(){clearInterval(V);H(1,true);V=window.setInterval(function(){H(1,true)},200)});O.mouseup(function(){clearInterval(V)});O.mouseout(function(){clearInterval(V)})}else{O=a("#"+aW)}}function l(){E.css({height:aq.outerHeight()-aC.railsize-(aC.arrowsize*2),top:aC.arrowsize});W.css({top:aC.arrowsize});X.css({width:aq.outerWidth()-aC.railsize-(aC.arrowsize*2),top:aq.outerHeight()-aC.railsize,left:aC.arrowsize});aA.css({top:aq.outerHeight()-((aC.railsize+aC.barsize)/2),left:aC.arrowsize});var aR=Math.max((M.outerHeight()/M[0].scrollHeight)*E.outerHeight(),aC.minscrollbarsize);W.css({height:aR+"px"});var aQ=Math.max((M.outerWidth()/M[0].scrollWidth)*X.outerWidth(),aC.minscrollbarsize);aA.css({width:aQ+"px"});if((aR+(aC.arrowsize*2))+1>=M.outerHeight()||aC.verticalbar=="hidden"){E.hide();W.hide();u.hide();C.hide();A=true}else{E.show();W.show();u.show();C.show()}if((aQ+(aC.arrowsize*2))+1>=M.outerWidth()||aC.horizontalbar=="hidden"){X.hide();aA.hide();Q.hide();O.hide()}else{X.show();aA.show();Q.show();O.show()}if(E.is(":hidden")){ag.css({width:U});N.css({width:U});aq.css({width:U});M.css({width:U});X.css({width:U-(aC.arrowsize*2)});aQ=Math.max((M.outerWidth()/M[0].scrollWidth)*X.outerWidth(),aC.minscrollbarsize);aA.css({width:aQ+"px"});X.css({top:aq.height()-aC.railsize});aA.css({top:aq.height()-((aC.railsize+aC.barsize)/2)});var i=aO[0].cells.length}if(X.is(":hidden")){if(!E.is(":hidden")){aq.css({height:aI});M.css({height:aI})}else{aq.css({height:ab.height()});M.css({height:ab.height()});if(aC.wrapperAutoHeight){ay[0].style.height=""}}E.css({height:aI-(aC.arrowsize*2)});aR=Math.max((M.outerHeight()/M[0].scrollHeight)*E.outerHeight(),aC.minscrollbarsize);W.css({height:aR+"px"})}else{if(E.is(":hidden")){if(aC.height==-1||(aC.wrapperAutoHeight&&G>(ab.height()+aM-aC.railsize))){aq.css({height:ab.height()+aC.railsize});M.css({height:ab.height()});ay[0].style.height="";X.css({top:aq.height()-aC.railsize});aA.css({top:aq.height()-((aC.railsize+aC.barsize)/2)})}}}u.css({top:0});C.css({top:E.outerHeight()+aC.arrowsize});Q.css({top:M.outerHeight()});O.css({top:M.outerHeight(),left:X.outerWidth()+aC.arrowsize});if(aC.arrowsize==0){u.hide();C.hide();Q.hide();O.hide()}}function aF(aW,aQ,aT,i){var aV=aW;var aU=M.outerHeight()-W.outerHeight()-aC.arrowsize;if(aQ||aT){var aR=0;if(aQ){aR=aW*parseInt(aC.wheelstep)/100}else{aR=aW*0.8}aV=(parseInt(W.css("top")))+aR*((M.outerHeight()/M[0].scrollHeight)*E.outerHeight());aV=Math.min(Math.max(aV,aC.arrowsize),aU);W.css({top:aV+"px"})}else{if(i){aV=Math.min(Math.max(aV,aC.arrowsize),aU);W.css({top:aV+"px"})}}if(typeof(aC.onScrollVertical)=="function"){aC.onScrollVertical(parseInt(W.css("top"))-aC.arrowsize)}var aS=(parseInt(W.css("top"))-aC.arrowsize)/(E.outerHeight()-W.outerHeight());aV=aS*(M[0].scrollHeight-M.outerHeight());M.scrollTop(aV);if(aC.freezesize!=0&&X[0].style.display!="none"){if((aV+M.outerHeight())>M[0].scrollHeight){aV=M[0].scrollHeight-M.outerHeight()}if(ax!=null){ax.scrollTop(aV)}}}function H(i,aU,aR){var aV=i;if(aU){var aS=i*0.8;aV=(parseInt(aA.css("left")))+aS*((M.outerWidth()/M[0].scrollWidth)*X.outerWidth());var aQ=M.outerWidth()-aA.outerWidth()-aC.arrowsize;aV=Math.min(Math.max(aV,aC.arrowsize),aQ);aA.css({left:aV+"px"})}else{if(aR){var aQ=M.outerWidth()-aA.outerWidth()-aC.arrowsize;aV=Math.min(Math.max(aV,aC.arrowsize),aQ);aA.css({left:aV+"px"})}}if(typeof(aC.onScrollHorizontal)=="function"){aC.onScrollHorizontal(parseInt(aA.css("left"))-aC.arrowsize)}var aT=(parseInt(aA.css("left"))-aC.arrowsize)/(X.outerWidth()-aA.outerWidth());aV=aT*(M[0].scrollWidth-M.outerWidth());if((aV+N.outerWidth())>N[0].scrollWidth){aV=N[0].scrollWidth-N.outerWidth()}M.scrollLeft(aV);N.scrollLeft(aV)}function ad(){var a1=aO[0].cells.length;au.show();if(aC.headerrowcount>1){for(var aT=1;aT<aC.headerrowcount;aT++){P.children().eq(aT).show()}}for(var aT=0;aT<a1;aT++){aO[0].cells[aT].childNodes[0].style.width=""}var aV=1;var a0=ab[0].offsetWidth;if(a0<aq[0].offsetWidth){aV=0}var aW=av.children().eq(0);B();p=new Array();I=new Array();for(var aT=0;aT<a1;aT++){I[aT]=false;var aY=aO[0].cells[aT];var aQ=aY.childNodes[0].offsetWidth+aV;if(aY.style.width&&aY.style.width!="auto"){var aU=aY.style.width;if(aU.indexOf("%")==-1){aQ=parseInt(aY.style.width)}else{aU=aU.replace("%","");aQ=parseInt(a0*(aU/100));I[aT]=true}}if(aV==0&&aT==a1-1){aQ--}p[aT]=aQ}for(var aT=0;aT<a1;aT++){var aQ=p[aT];aO[0].cells[aT].childNodes[0].style.width=aQ+"px";if(I[aT]){a(aO[0].cells[aT]).css("width",aQ+"px");for(var aS=aC.headerrowcount;aS<ab[0].rows.length;aS++){a(ab[0].rows[aS].cells[aT]).css("width",aQ+"px")}}for(var aS=0;aS<aC.headerrowcount;aS++){var aZ=aH[aS][aT];if(aZ=="RS"||aZ=="CS"){continue}var aR=aZ.split(":")[0];if(aR=="N"){continue}var aX=aZ.split(":")[1];if(I[aT]){a(aW[0].rows[aS].cells[aX]).css("width",aQ+"px")}aW[0].rows[aS].cells[aX].childNodes[0].style.width=aQ+"px"}}au.hide();if(aC.headerrowcount>1){for(var aT=1;aT<aC.headerrowcount;aT++){P.children().eq(aT).hide()}}}function B(){var aQ=aO[0].cells.length;var aV=[];for(var aS=0;aS<aC.headerrowcount;aS++){aH[aS]=[];aV[aS]=0}for(var aT=0;aT<aQ;aT++){for(var aS=0;aS<aC.headerrowcount;aS++){if(aH[aS][aT]!="RS"&&aH[aS][aT]!="CS"){var aX=P.children().eq(aS).children().eq(aV[aS]);aV[aS]++;var aU=aX.attr("rowspan");var aW=aX.attr("colspan");if(!aU){aU=1}else{aU=parseInt(aU)}if(!aW){aW=1}else{aW=parseInt(aW)}if(aU!=1){for(var aR=aS;aR<aU;aR++){aH[aR][aT]="RS"}}if(aW!=1){for(var aR=1;aR<aW;aR++){aH[aS][aR+aT]="CS"}aH[aS][aT]="N:"+(aV[aS]-1)}if(aW==1){aH[aS][aT]="Y:"+(aV[aS]-1)}}}}return aH}function ap(){ab[0].style.display="none";var aR=aC.headerrowcount+1;for(var aQ=0;aQ<aR;aQ++){P.children().eq(aQ).find("td, th").each(function(){var i=a(this)[0];if(!i.childNodes[0]||(i.childNodes[0].tagName!="DIV"&&i.childNodes[0].className!="GridCellDiv")){at(i)}})}ab[0].style.display=""}function at(i){var aQ=document.createElement("DIV");aQ.className="GridCellDiv";while(i.hasChildNodes()){aQ.appendChild(i.firstChild)}i.appendChild(aQ);return aQ}function af(){var aW=ab.attr("id")+"Wrapper";var aR=a("#"+aW);if(!aR[0]){return}var a0=ab[0].id+"Copy";var aQ=document.getElementById(a0);if(!aQ){return}aR[0].parentNode.insertBefore(ab[0],aR[0]);var a1=aQ.rows.length;for(var aV=0;aV<a1;aV++){ab[0].rows[aV].style.display=""}P=ab.children().eq(0);j(a1);var a2=ab[0].rows.length;for(var aV=a1;aV<a2;aV++){var aY=P[0].rows[aV];var aX=aY.cells[0];aX.style.height="";if(aX.childNodes[0]&&aX.childNodes[0].tagName=="DIV"&&aX.childNodes[0].className=="GridCellDiv"){b(aX)}}var aT=ab[0].id+"PagerBottom";var aZ=document.getElementById(aT);if(aZ){var aS=document.createElement("TD");aS.colSpan=ab[0].rows[a2-2].cells.length;aS.appendChild(aZ.childNodes[0]);var aU=document.createElement("TR");aU.className=aZ.className;aU.appendChild(aS);a(aU).appendTo(ab.children().eq(0))}aR.remove()}function j(aS){var aR=aS+1;for(var aQ=0;aQ<aR;aQ++){P.children().eq(aQ).find("td, th").each(function(){var i=a(this)[0];if(i.childNodes[0]&&i.childNodes[0].tagName=="DIV"&&i.childNodes[0].className=="GridCellDiv"){b(i)}})}}function b(i){var aQ=i.childNodes[0];while(aQ.hasChildNodes()){i.appendChild(aQ.firstChild)}a(aQ).remove()}function aE(aW){var aS=aW-1+aC.headerrowcount;var aQ=P[0].rows[aS];var aV=a(ab).offset().top;var aR=a(aQ).offset().top;var aU=aR-aV;var aT=aU/(M[0].scrollHeight-M.outerHeight());var i=aT*(E.outerHeight()-W.outerHeight());i+=aC.arrowsize;aF(i,false,false,true)}var am=true;var P=null;var au=null;var aO=null;var g=false;var A=false;var ao="<div></div>";var aK="<span>";var ag=null;var aq=null;var N=null;var M=null;var E=null;var W=null;var u=null;var C=null;var X=null;var aA=null;var Q=null;var O=null;var x=null;var ax=null;var av=null;var e=null;var ab=null;var ay=null;var aG=null;var aH=[];var p=null;var I=null;var c=null;var aN=0;var n=0;var ae=0;var aM=0;var aI=0;var f=-1;var ab=a(this);if(!ab[0]){return}if(!aC.enabled){af();return}P=ab.children().eq(0);if(P.children().length<2){return}var U=aC.width;var G=aC.height;if(U=="100%"){U=a(window).width()}if(G=="100%"){G=a(window).height()}var ah=ab.attr("id")+"Wrapper";if(!document.getElementById(ah)){ay=a(ao);ay.attr("id",ah);ay.css({width:U,height:G});ab.before(ay)}else{ay=a("#"+ah);ay.css({width:U,height:G})}var J=ab.attr("id")+"PanelHeader";if(!document.getElementById(J)){ag=a(ao);ag.attr("id",J);ag.appendTo(ay)}else{ag=a("#"+J)}ag.css({background:aC.bgcolor});var w=ab.attr("id")+"PanelItem";if(!document.getElementById(w)){aq=a(ao);aq.attr("id",w);aq.appendTo(ay)}else{aq=a("#"+w)}aq.css({background:aC.bgcolor});var ar=ab.attr("id")+"PanelHeaderContent";if(!document.getElementById(ar)){N=a(ao).css({background:"#FFFFFF"});N.attr("id",ar);N.appendTo(ag)}else{N=a("#"+ar);N.scrollLeft(0);N.scrollTop(0)}var q=ab.attr("id")+"PanelItemContent";if(!document.getElementById(q)){M=a(ao).css({background:"#FFFFFF"});M.attr("id",q);M.appendTo(aq);ab.appendTo(M)}else{M=a("#"+q);M.scrollLeft(0);M.scrollTop(0)}au=P.children().eq(0);au.attr("id",ab.attr("id")+"Header");aO=P.children().eq(aC.headerrowcount);var s=ab.attr("id")+"Copy";if(!document.getElementById(s)){av=a(ab[0].cloneNode(false));av.attr("id",s);av.appendTo(N);am=false}else{av=a("#"+s)}ap();var aD=au.attr("id")+"Copy";if(!document.getElementById(aD)){e=au.clone(false);e.attr("id",aD);S(e,"Copy");e.appendTo(av);if(aC.headerrowcount>1){for(var R=1;R<aC.headerrowcount;R++){var aa=P.children().eq(R).clone(false);S(aa,"Copy");aa.appendTo(av)}}}else{e=a("#"+aD)}M[0].style.display="none";aM=ag[0].offsetHeight;aI=G-aM;M[0].style.display="";var D=ab.attr("id")+"PagerBottom";if(!document.getElementById(D)){var Y=P.children().eq(P.children().length-1);var aB=Y.children().eq(0);var az=aB.children().eq(0);if(az[0]!=null&&az[0].tagName=="TABLE"){if(!document.getElementById(D)){aG=a(ao);aG.attr("id",D);aG.addClass(Y[0].className);aq.after(aG);az.appendTo(aG);aG.width(U)}Y.remove()}}else{aG=a("#"+D);if(aG[0]){aG.width(U)}}if(aG&&aG[0]){aI-=aG.height()}aq.css({position:"relative",overflow:"hidden",width:U,height:aI});M.css({overflow:"hidden",width:U-aC.railsize,height:aI-aC.railsize,zIndex:aN});ag.css({position:"relative",overflow:"hidden",width:U});N.css({overflow:"hidden",width:U-aC.railsize,zIndex:aN});ad();if(aC.freezesize!=0){var r=P.children().length-1;var z=aC.headerrowcount+1;d()}aw();l();var t=N.attr("id")+"Freeze";var aL=M.attr("id")+"Freeze";if(aC.freezesize!=0&&X[0].style.display!="none"){F()}else{var t=N.attr("id")+"Freeze";var aL=M.attr("id")+"Freeze";if(document.getElementById(t)){a("#"+t).hide();a("#"+aL).hide()}}if(aC.startVertical>0){var m=parseInt(aC.startVertical)+aC.arrowsize;aF(m,false,false,true)}else{if(aC.startVertical==-1){var an=M.outerHeight()-W.outerHeight()-aC.arrowsize;aF(an,false,false,true)}}if(aC.startHorizontal>0){var m=parseInt(aC.startHorizontal)+aC.arrowsize;H(m,false,true)}if(aC.scrollAssociate){var ak=aC.scrollAssociate.mode;var ac=aC.scrollAssociate.target;var o=a("#"+ac+"PanelItemContent");var L=a("#"+ac+"VerticalBar");var T=a("#"+ac+"HorizontalBar");if(ak=="both"){o.bind("scroll",function(){var aQ=parseInt(L.css("top"));var i=parseInt(T.css("left"));aF(aQ,false,false,true);H(i,false,true)})}else{if(ak=="vertical"){o.bind("scroll",function(){var i=parseInt(L.css("top"));aF(i,false,false,true)})}else{if(ak=="horizontal"){o.bind("scroll",function(){var i=parseInt(T.css("left"));H(i,false,true)})}}}}M.bind("keyup",function(aS){if(aS.keyCode==9){var aR=a(aS.target);if(!aR[0]){return}aP(aR);aj(aR);var aQ=aR[0].id+"_freezeitem";var i=a("#"+aQ);if(i[0]){i.focus()}}});function aP(aT){var aV=M[0].scrollLeft;var aU=M.outerWidth();var aW=aT.position().left;var aR=aT.outerWidth();aV=aW+aR-aU+aV+5;if(aV<0){aV=0}var aQ=X.outerWidth()-aA.outerWidth();var i=M[0].scrollWidth-M.outerWidth();var aS=(aV/(i/aQ))+aC.arrowsize;aA.css({left:aS+"px"});M.scrollLeft(aV);N.scrollLeft(aV)}function aj(aV){var aS=aV.position().top;var i=aV.outerHeight();var aU=M[0].scrollTop;var aR=M.outerHeight();aU=aS+i-aR+aU+5;if(aU<0){aU=0}var aQ=E.outerHeight()-W.outerHeight();var aW=M[0].scrollHeight-M.outerHeight();var aT=(aU/(aW/aQ))+aC.arrowsize;W.css({top:aT+"px"});M.scrollTop(aU);if(aC.freezesize!=0&&X[0].style.display!="none"){ax.scrollTop(aU)}}if(aC.freezesize!=0&&X[0].style.display!="none"){ax.bind("keydown",function(aS){if(aS.keyCode==9){var i=a(aS.target);if(!i[0]){return}var aQ=i[0].id.replace("_freezeitem","");var aR=a("#"+aQ);if(aR[0]){aR.focus()}}})}if(am){return}M.hover(function(){g=true},function(){g=false});if(aC.freezesize!=0&&X[0].style.display!="none"){ax.hover(function(){g=true},function(){g=false})}var aJ=function(i){if(!g){return}if(E.is(":hidden")){return}var i=i||window.event;var aQ=0;if(i.wheelDelta){aQ=-i.wheelDelta/120}if(i.detail){aQ=i.detail/3}aF(aQ,true);if(i.preventDefault&&!A){i.preventDefault()}if(!A){i.returnValue=false}};var k=function(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",aJ,false);this.addEventListener("mousewheel",aJ,false)}else{document.attachEvent("onmousewheel",aJ)}};k();if(aC.rowIndexElementID!=""){a("#"+aC.rowIndexElementID).on("change",function(){var aQ=a("#"+aC.rowIndexElementID).val();var i=P[0].rows.length;if(!isNaN(aQ)&&aQ<(i-aC.headerrowcount)){aE(parseInt(aQ))}})}return this}});jQuery.fn.extend({gridviewScroll:jQuery.fn.gridviewScroll})})(jQuery);
